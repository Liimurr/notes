
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>UE.Repair-Core Redirects &#8212; Notes 0.6.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=9fe14396" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-shadow.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-punk.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-noir.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-light.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-borderless.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/micromodal.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=b10a753b" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=3af6fc4c"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/hoverxref.js"></script>
    <script src="../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../_static/js/micromodal.min.js"></script>
    <script src="../_static/tabs.js?v=3030b3cb"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'src/UE.Repair-Core Redirects';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Experiments" href="Experiments.Index.html" />
    <link rel="prev" title="Unreal" href="Unreal.Index.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Notes 0.6.0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="SysAdmin.Index.html">SysAdmin</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="Install-Vagrant.html">Install-Vagrant</a></li>
<li class="toctree-l2"><a class="reference internal" href="Vagrant.Build-BaseBox_Ubuntu.html">Vagrant.Build-Base Box (Ubuntu)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Vagrant.Build-BaseBox_Windows.html">Vagrant.Build-Base Box (Windows)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Vagrant.Build-BaseBox_MacOS.html">Vagrant.Build-Base Box (MacOS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenkins.Install-Controller_Ubuntu.html">Jenkins.Install-Controller (Ubuntu)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenkins.Install-Agent_Windows.html">Jenkins.Install-Agent (Windows)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenkins.Install-Agent_MacOS.html">Jenkins.Install-Agent (MacOS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenknins.Invoke-JobFromCommandLine.html">Jenkins.Invoke-Job from Command Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="Build-Ansible%20Control%20Node.html">Build-Ansible Control Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="Build-Ansible%20Agent%20Node.html">Build-Ansible Agent Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="Test-Ansible.html">Test-Ansible</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenkins.Index.html">Jenkins.Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="Add-Submodule%20to%20Github%20Actions%20Checkout.html">Add-Submodule to Github Actions Checkout</a></li>
</ul>
</li>
<li class="toctree-l1 current active has-children"><a class="reference internal" href="Unreal.Index.html">Unreal</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul class="current">
<li class="toctree-l2 current active"><a class="current reference internal" href="#">UE.Repair-Core Redirects</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Experiments.Index.html">Experiments</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/src/UE.Repair-Core Redirects.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>UE.Repair-Core Redirects</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#procedure">Procedure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tips-caveats">Tips &amp; Caveats</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#row-structs">Row Structs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#undo-changes-with-git">Undo Changes With Git</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#powershell-generate-core-redirects-for-module-rename">Powershell Generate Core Redirects for Module Rename</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#see-also">See Also</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="ue-repair-core-redirects">
<h1>UE.Repair-Core Redirects<a class="headerlink" href="#ue-repair-core-redirects" title="Link to this heading">#</a></h1>
<p>Use the following steps to repair core redirects in the project.
Warning: this process is not comprehensive and may require additional steps to repair all assets.</p>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h2>
<p>Create an editor utility blueprint widget that performs the following:</p>
<ol class="arabic simple">
<li><p>Rename all assets to a new name with a hash appended (this will force the editor to update the asset core redirect references within the asset – the hash will make looking for deprecated assets easier in case the editor fails to update some asset references)</p></li>
<li><p>Rename all the assets back to their original name.</p></li>
</ol>
</section>
<section id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Refresh all assets</p>
<ol class="arabic simple">
<li><p>FIRST, using the utility blueprint widget, refresh all DataAssets and Blueprint Structs. (refreshing blueprint nodes before DataAssets or BlueprintStruct assets can cause blueprint node corruption)</p></li>
<li><p>THEN Refresh all blueprint nodes using <a class="reference external" href="https://github.com/nachomonkey/RefreshAllNodes">RefeshAllNodes</a> plugin (this works on Blueprints only)</p></li>
</ol>
</li>
<li><p>Find all instanced assets that failed to update (Some assets may need a second try, or even an editor restart and another try)</p>
<ol class="arabic simple">
<li><p>Search Everywhere In VSCode</p>
<ol class="lowerroman simple">
<li><p>Open the project directory in vscode</p></li>
<li><p>Search everywhere (<code class="docutils literal notranslate"><span class="pre">Ctrl+Shift+F</span></code>) for the hash appended to the asset name</p></li>
<li><p>Files to include: <code class="docutils literal notranslate"><span class="pre">*.uasset,</span> <span class="pre">*.umap,</span> <span class="pre">*.cpp,</span> <span class="pre">*.h,</span> <span class="pre">*.inl,</span> <span class="pre">*.cs,</span> <span class="pre">*.hpp,</span> <span class="pre">*.cxx,</span> <span class="pre">*.c,</span> <span class="pre">*.ini,</span> <span class="pre">*.txt</span></code></p></li>
</ol>
</li>
<li><p>Search Everywhere In Blueprint editor</p>
<ol class="lowerroman simple">
<li><p>In the editor, select <cite>Windows &gt; Find in Blueprints</cite></p></li>
<li><p>Search for the hash appended to the asset name</p></li>
</ol>
</li>
</ol>
</li>
<li><p>Re-run the editor utility blueprint widget to repair the assets that failed to update or rename them manually</p></li>
</ol>
</section>
<section id="tips-caveats">
<h2>Tips &amp; Caveats<a class="headerlink" href="#tips-caveats" title="Link to this heading">#</a></h2>
<section id="row-structs">
<h3>Row Structs<a class="headerlink" href="#row-structs" title="Link to this heading">#</a></h3>
<p>Core redirects cannot replace row structs used by data tables automatically. This may have been fixed in 5.1 (see: <a class="reference external" href="https://docs.unrealengine.com/5.1/en-US/unreal-engine-5.1-release-notes/">UE 5.1 Release Notes</a>) “Added support for redirecting DataTable row structs in the DataRegistry”).
Use the following steps to manually repair row structs:</p>
<ol class="arabic">
<li><p>Export data tables that use the row struct to a CSV</p></li>
<li><p>Create new data tables with the new struct (make sure the new struct inherits from FTableRowBase if it’s a c++ USTRUCT)</p></li>
<li><p>Import the orignal data tables’ CSVs into the new data tables</p></li>
<li><p>Use a Package &amp; Struct redirect for the old data table to the new data table (note the redirect example below assumes you are moving from a blueprint struct to a c++ struct (<code class="docutils literal notranslate"><span class="pre">/Game/</span></code> = blueprints and <code class="docutils literal notranslate"><span class="pre">/Script/</span></code> = c++)</p>
<div class="literal-block-wrapper docutils container" id="id1">
<div class="code-block-caption"><span class="caption-text">DefaultEngine.ini</span><a class="headerlink" href="#id1" title="Link to this code">#</a></div>
<div class="highlight-ini notranslate"><div class="highlight"><pre><span></span><span class="k">[CoreRedirects]</span>
<span class="na">+PackageRedirects</span><span class="o">=</span><span class="s">(OldName=&quot;/Game/&lt;Module&gt;.&lt;OldDataTableName&gt;&quot;, NewName=&quot;/Game/&lt;Module&gt;.&lt;NewDataTableName&gt;&quot;)</span>
<span class="c1">; Struct redirect for DataTableRows will not work. (might work in UE-5.1)</span>
<span class="c1">;+StructRedirects=(OldName=&quot;/Game/&lt;Module&gt;.&lt;OldRowStructName&gt;&quot;, NewName=&quot;/Script/&lt;Module&gt;.&lt;NewRowStructName&gt;&quot;)</span>
</pre></div>
</div>
</div>
</li>
<li><p>Manually replace any remaining references to the old data tables and row struct in blueprints</p>
<ul class="simple">
<li><p>tip: Right click Blueprint Assets that reference the old row struct and select <cite>Scripted Actions &gt; Replace Structure</cite></p></li>
<li><p>tip: Right click Blueprint Struct, and Data Table assets and select <cite>Reference Viewer</cite> to find all in editor references</p></li>
<li><p>tip: In the IDE search for the old data table name to find source code references</p></li>
</ul>
</li>
</ol>
</section>
<section id="undo-changes-with-git">
<h3>Undo Changes With Git<a class="headerlink" href="#undo-changes-with-git" title="Link to this heading">#</a></h3>
<p>Because this process involves changes to many assets (Refresh all nodes can affect hundreds of files), you will be more likely to need to undo changes by directory or by pattern rather than individual files.
For example, to undo all unstaged changes in the Content folder, but exclude uassets prefixed with <cite>DT_WP_</cite> you would run the following:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>restore<span class="w"> </span>--<span class="w"> </span><span class="s1">&#39;Content/&#39;</span><span class="w"> </span><span class="s1">&#39;:(exclude)**/DT_WP_*.uasset&#39;</span>
</pre></div>
</div>
<p>See (<a class="reference external" href="https://css-tricks.com/git-pathspecs-and-how-to-use-them/">git’s pathspec and how to use it</a>) for more information on using pathspec patterns with git commands.</p>
</section>
<section id="powershell-generate-core-redirects-for-module-rename">
<h3>Powershell Generate Core Redirects for Module Rename<a class="headerlink" href="#powershell-generate-core-redirects-for-module-rename" title="Link to this heading">#</a></h3>
<p>When renaming modules it can be useful to generate core redirects for all enums and structs in the module’s directory.
The following powershell script can be used for this. Obviously, this will not work with blueprint assets or data tables, but it can be useful for c++ modules.
- TODO: Update as needed with further redirect types
- TODO: Create an automation tool that can work with editor assets as well</p>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Script<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Powershell</span><a class="headerlink" href="#id2" title="Link to this code">#</a></div>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">class</span> <span class="n">ModuleInfo</span> <span class="p">{</span>
  <span class="no">[string]</span><span class="nv">$OldModule</span>
  <span class="no">[string]</span><span class="nv">$NewModule</span>
  <span class="no">[string]</span><span class="nv">$Dir</span>
<span class="p">}</span>

<span class="k">param</span> <span class="p">(</span>
  <span class="p">[</span><span class="k">Parameter</span><span class="p">(</span><span class="k">Mandatory</span><span class="p">=</span><span class="nv">$true</span><span class="p">)]</span>
  <span class="no">[ModuleInfo[]]</span><span class="nv">$Modules</span>
<span class="p">)</span>

<span class="c"># todo: add core redirects for classes, functions, etc. as needed</span>
<span class="k">function</span> <span class="nb">Get-NativeEnumsAndStructs</span> <span class="p">{</span>
  <span class="p">[</span><span class="k">CmdletBinding</span><span class="p">()]</span>
  <span class="k">param</span> <span class="p">(</span>
     <span class="no">[string]</span><span class="nv">$Dir</span>
  <span class="p">)</span>

  <span class="c"># Get enums from .h files</span>
  <span class="nv">$enums</span> <span class="p">=</span> <span class="nb">Get-ChildItem</span> <span class="n">-Path</span> <span class="nv">$Dir</span> <span class="n">-Filter</span> <span class="p">*.</span><span class="nb">h </span><span class="p">|</span> <span class="k">ForEach</span><span class="n">-Object</span> <span class="p">{</span>
     <span class="nb">Get-Content</span> <span class="nv">$_</span><span class="p">.</span><span class="n">FullName</span> <span class="p">|</span> <span class="nb">Select-String</span> <span class="n">-Pattern</span> <span class="s1">&#39;enum\s+class\s+(E\w+)\s*:\s*uint8&#39;</span> <span class="n">-AllMatches</span> <span class="p">|</span> <span class="k">ForEach</span><span class="n">-Object</span> <span class="p">{</span>
        <span class="nv">$_</span><span class="p">.</span><span class="n">Matches</span><span class="p">.</span><span class="n">Groups</span><span class="p">[</span><span class="n">1</span><span class="p">].</span><span class="n">Value</span>
     <span class="p">}</span>
  <span class="p">}</span>

  <span class="c"># Get structs from .h files</span>
  <span class="nv">$structs</span> <span class="p">=</span> <span class="nb">Get-ChildItem</span> <span class="n">-Path</span> <span class="nv">$Dir</span> <span class="n">-Filter</span> <span class="p">*.</span><span class="nb">h </span><span class="p">|</span> <span class="k">ForEach</span><span class="n">-Object</span> <span class="p">{</span>
     <span class="nb">Get-Content</span> <span class="nv">$_</span><span class="p">.</span><span class="n">FullName</span> <span class="p">|</span> <span class="nb">Select-String</span> <span class="n">-Pattern</span> <span class="s1">&#39;struct\s+[A-Z]+_[A-Z]+\s+F(\w+)&#39;</span> <span class="n">-AllMatches</span> <span class="p">|</span> <span class="k">ForEach</span><span class="n">-Object</span> <span class="p">{</span>
        <span class="nv">$_</span><span class="p">.</span><span class="n">Matches</span><span class="p">.</span><span class="n">Groups</span><span class="p">[</span><span class="n">1</span><span class="p">].</span><span class="n">Value</span>
     <span class="p">}</span>
  <span class="p">}</span>

  <span class="c"># Return enums and structs as an array</span>
  <span class="k">return</span> <span class="p">@{</span>
     <span class="n">Enums</span> <span class="p">=</span> <span class="nv">$enums</span>
     <span class="n">Structs</span> <span class="p">=</span> <span class="nv">$structs</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">function</span> <span class="nb">ConvertTo-Redirects</span> <span class="p">{</span>
  <span class="p">[</span><span class="k">CmdletBinding</span><span class="p">()]</span>
  <span class="k">param</span> <span class="p">(</span>
     <span class="no">[hashtable]</span><span class="nv">$EnumsAndStructs</span><span class="p">,</span>
     <span class="no">[string]</span><span class="nv">$OldModule</span><span class="p">,</span>
     <span class="no">[string]</span><span class="nv">$NewModule</span>
  <span class="p">)</span>

  <span class="c"># Initialize arrays to store the wrapped enums and structs</span>
  <span class="nv">$wrappedEnums</span> <span class="p">=</span> <span class="p">@()</span>
  <span class="nv">$wrappedStructs</span> <span class="p">=</span> <span class="p">@()</span>

  <span class="c"># Wrap each enum in the specified format</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="nv">$enum</span> <span class="k">in</span> <span class="nv">$EnumsAndStructs</span><span class="p">.</span><span class="n">Enums</span><span class="p">)</span> <span class="p">{</span>
     <span class="nv">$enumRedirect</span> <span class="p">=</span> <span class="s2">&quot;+EnumRedirects=(OldName=</span><span class="se">`&quot;</span><span class="s2">/Script/$OldModule.$enum</span><span class="se">`&quot;</span><span class="s2">,NewName=</span><span class="se">`&quot;</span><span class="s2">/Script/$NewModule.$enum</span><span class="se">`&quot;</span><span class="s2">)&quot;</span>
     <span class="nv">$wrappedEnums</span> <span class="p">+=</span> <span class="nv">$enumRedirect</span>
  <span class="p">}</span>

  <span class="c"># Wrap each struct in the specified format</span>
  <span class="k">foreach</span> <span class="p">(</span><span class="nv">$struct</span> <span class="k">in</span> <span class="nv">$EnumsAndStructs</span><span class="p">.</span><span class="n">Structs</span><span class="p">)</span> <span class="p">{</span>
     <span class="nv">$structRedirect</span> <span class="p">=</span> <span class="s2">&quot;+StructRedirects=(OldName=</span><span class="se">`&quot;</span><span class="s2">/Script/$OldModule.$struct</span><span class="se">`&quot;</span><span class="s2">,NewName=</span><span class="se">`&quot;</span><span class="s2">/Script/$NewModule.$struct</span><span class="se">`&quot;</span><span class="s2">)&quot;</span>
     <span class="nv">$wrappedStructs</span> <span class="p">+=</span> <span class="nv">$structRedirect</span>
  <span class="p">}</span>

  <span class="c"># Return the arrays of wrapped enums and structs</span>
  <span class="k">return</span> <span class="p">@{</span>
     <span class="n">Enums</span> <span class="p">=</span> <span class="nv">$wrappedEnums</span>
     <span class="n">Structs</span> <span class="p">=</span> <span class="nv">$wrappedStructs</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="k">foreach</span> <span class="p">(</span><span class="nv">$module</span> <span class="k">in</span> <span class="nv">$Modules</span><span class="p">)</span> <span class="p">{</span>
  <span class="nv">$enumsAndStructs</span> <span class="p">=</span> <span class="nb">Get-NativeEnumsAndStructs</span> <span class="n">-Dir</span> <span class="nv">$module</span><span class="p">.</span><span class="nb">Dir</span>
  <span class="nv">$redirects</span> <span class="p">=</span> <span class="nb">ConvertTo-Redirects</span> <span class="n">-EnumsAndStructs</span> <span class="nv">$enumsAndStructs</span> <span class="n">-OldModule</span> <span class="nv">$module</span><span class="p">.</span><span class="n">OldModule</span> <span class="n">-NewModule</span> <span class="nv">$module</span><span class="p">.</span><span class="n">NewModule</span>
  <span class="nb">Write-Host</span> <span class="sh">@&quot;</span>
<span class="sh">; </span><span class="p">$(</span><span class="nv">$module</span><span class="p">.</span><span class="n">NewModule</span><span class="p">)</span>
<span class="sh">; ==================================</span>
<span class="p">$(</span><span class="nv">$redirects</span><span class="p">.</span><span class="n">Enums</span> <span class="n">-join</span> <span class="s2">&quot;</span><span class="se">`n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="p">$(</span><span class="nv">$redirects</span><span class="p">.</span><span class="n">Structs</span> <span class="n">-join</span> <span class="s2">&quot;</span><span class="se">`n</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="sh">&quot;@</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Usage</span><a class="headerlink" href="#id3" title="Link to this code">#</a></div>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$modules</span> <span class="p">=</span> <span class="p">@(</span>
   <span class="no">[ModuleInfo]</span><span class="p">@{</span>
      <span class="n">OldModule</span> <span class="p">=</span> <span class="s2">&quot;OldModule&quot;</span>
      <span class="n">NewModule</span> <span class="p">=</span> <span class="s2">&quot;NewModule&quot;</span>
      <span class="nb">Dir </span><span class="p">=</span> <span class="s2">&quot;C:\Path\To\OldModule&quot;</span>
   <span class="p">},</span>
   <span class="no">[ModuleInfo]</span><span class="p">@{</span>
      <span class="n">OldModule</span> <span class="p">=</span> <span class="s2">&quot;OldModule2&quot;</span>
      <span class="n">NewModule</span> <span class="p">=</span> <span class="s2">&quot;NewModule2&quot;</span>
      <span class="nb">Dir </span><span class="p">=</span> <span class="s2">&quot;C:\Path\To\OldModule2&quot;</span>
   <span class="p">}</span>
<span class="p">)</span>

<span class="p">.\</span><span class="nb">Get-MovedModuleRedirects</span><span class="p">.</span><span class="n">ps1</span> <span class="n">-Modules</span> <span class="nv">$modules</span>
</pre></div>
</div>
</div>
</div>
</details></section>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">#</a></h2>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<p class="sd-card-text"><strong>External Links</strong></p>
<p class="sd-card-text"><a class="reference external" href="https://docs.unrealengine.com/4.26/en-US/ProgrammingAndScripting/ProgrammingWithCPP/Assets/CoreRedirects/">UE4 Docs/Core Redirects</a></p>
</div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="Unreal.Index.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Unreal</p>
      </div>
    </a>
    <a class="right-next"
       href="Experiments.Index.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Experiments</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#procedure">Procedure</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#tips-caveats">Tips &amp; Caveats</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#row-structs">Row Structs</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#undo-changes-with-git">Undo Changes With Git</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#powershell-generate-core-redirects-for-module-rename">Powershell Generate Core Redirects for Module Rename</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#see-also">See Also</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Liam Murray
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>