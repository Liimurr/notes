
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Vagrant.Build-Base Box &#8212; Notes 0.6.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=9fe14396" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/sphinx-book-theme.css?v=384b581d" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=eafc0fe6" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.custom.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-shadow.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-punk.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-noir.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-light.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/tooltipster-sideTip-borderless.min.css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/micromodal.css" />
    <link rel="stylesheet" type="text/css" href="../_static/tabs.css?v=a5c4661c" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=b10a753b" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/jquery.js?v=5d32c60e"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
    <script src="../_static/documentation_options.js?v=3af6fc4c"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/js/hoverxref.js"></script>
    <script src="../_static/js/tooltipster.bundle.min.js"></script>
    <script src="../_static/js/micromodal.min.js"></script>
    <script src="../_static/tabs.js?v=3030b3cb"></script>
    <script src="../_static/scripts/sphinx-book-theme.js?v=efea14e4"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>window.MathJax = {"tex": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true}, "options": {"ignoreHtmlClass": "tex2jax_ignore|mathjax_ignore|document", "processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'src/Vagrant.Build-Base Box';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search..."
         aria-label="Search..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
  
    <p class="title logo__title">Notes 0.6.0 documentation</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="SysAdmin.Index.html">SysAdmin</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-1"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="Install-Vagrant.html">Install-Vagrant</a></li>
<li class="toctree-l2"><a class="reference internal" href="Vagrant.Build-BaseBox_Ubuntu.html">Vagrant.Build-Base Box (Ubuntu)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Vagrant.Build-BaseBox_Windows.html">Vagrant.Build-Base Box (Windows)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Vagrant.Build-BaseBox_MacOS.html">Vagrant.Build-Base Box (MacOS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenkins.Install-Controller_Ubuntu.html">Jenkins.Install-Controller (Ubuntu)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenkins.Install-Agent_Windows.html">Jenkins.Install-Agent (Windows)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenkins.Install-Agent_MacOS.html">Jenkins.Install-Agent (MacOS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenknins.Invoke-JobFromCommandLine.html">Jenkins.Invoke-Job from Command Line</a></li>
<li class="toctree-l2"><a class="reference internal" href="Build-Ansible%20Control%20Node.html">Build-Ansible Control Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="Build-Ansible%20Agent%20Node.html">Build-Ansible Agent Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="Test-Ansible.html">Test-Ansible</a></li>
<li class="toctree-l2"><a class="reference internal" href="Jenkins.Index.html">Jenkins.Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="Add-Submodule%20to%20Github%20Actions%20Checkout.html">Add-Submodule to Github Actions Checkout</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Unreal.Index.html">Unreal</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-2"><i class="fa-solid fa-chevron-down"></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="UE.Repair-Core%20Redirects.html">UE.Repair-Core Redirects</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="Experiments.Index.html">Experiments</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" type="checkbox"/><label class="toctree-toggle" for="toctree-checkbox-3"><i class="fa-solid fa-chevron-down"></i></label><ul class="simple">
</ul>
</li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><label class="sidebar-toggle primary-toggle btn btn-sm" for="__primary" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</label></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../_sources/src/Vagrant.Build-Base Box.rst" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.rst</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm navbar-btn search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<label class="sidebar-toggle secondary-toggle btn btn-sm" for="__secondary"title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</label>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>Vagrant.Build-Base Box</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#brief">Brief</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#procedure">Procedure</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-vm-virtual-hardware">Initialize-VM Virtual Hardware</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-guest-operating-system">Install-Guest Operating System</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-ssh-server-on-guest-vm">Install-SSH Server on Guest VM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-host-to-guest-ssh-connection">Test-Host to Guest SSH Connection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#edit-security-policies">Edit-Security Policies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-additional-software">Install Additional Software</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#see-also">See Also</a></li>
</ul>
            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="vagrant-build-base-box">
<h1>Vagrant.Build-Base Box<a class="headerlink" href="#vagrant-build-base-box" title="Link to this heading">#</a></h1>
<section id="brief">
<h2>Brief<a class="headerlink" href="#brief" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Install Vagrant</p></li>
<li><p>Install VM Provider</p></li>
<li><p>Initialize VM Virtual Hardware</p></li>
<li><p>Install Guest Operating System</p></li>
<li><p>Install SSH Server on Guest VM</p></li>
<li><p>Test Host to Guest SSH Connection</p></li>
</ol>
</section>
<section id="prerequisites">
<h2>Prerequisites<a class="headerlink" href="#prerequisites" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Goto: <a class="reference external" href="https://developer.hashicorp.com/vagrant/downloads">Vagrant Downloads Page</a> and install the latest version.</p></li>
<li><p>Install a Virtual Machine Provider (<a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/providers">ref</a>). This tutorial covers VirtualBox and VMWare, with Virtual box having the most support.</p></li>
</ol>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-0" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" data-sync-id="vmware" for="sd-tab-item-0">
Provider: VMWare</label><div class="sd-tab-content docutils">
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>For Vagrant boxes, GuestOS: Windows 11 and Provider: VMWare Workstation 17 are incompatible.
Vagrant has no support for TPM 2.0 encryption yet, and VMWare Workstation 17 requires it for Windows 11.</p>
</div>
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Install-Vagrant VMWare Utility <a class="footnote-reference brackets" href="#id6" id="id1" role="doc-noteref"><span class="fn-bracket">[</span>1<span class="fn-bracket">]</span></a><div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text"><a class="reference external" href="https://developer.hashicorp.com/vagrant/install/vmware">Vagrant VMWare Utility Downloads Page</a></p>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Install-Vagrant Plugin <a class="footnote-reference brackets" href="#id7" id="id2" role="doc-noteref"><span class="fn-bracket">[</span>2<span class="fn-bracket">]</span></a><div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id10">
<div class="code-block-caption"><span class="caption-text">PowerShell (Host Machine)</span><a class="headerlink" href="#id10" title="Link to this code">#</a></div>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="n">vagrant</span> <span class="n">plugin</span> <span class="n">install</span> <span class="n">vagrant-vmware-desktop</span>
</pre></div>
</div>
</div>
</div>
</details></div>
<input id="sd-tab-item-1" name="sd-tab-set-0" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-1">
Provider: Parallels (HostOS: MacOS)</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id11">
<div class="code-block-caption"><span class="caption-text">shell (Host Machine)</span><a class="headerlink" href="#id11" title="Link to this code">#</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="c1"># install vagrant</span>
brew<span class="w"> </span>tap<span class="w"> </span>hashicorp/tap
brew<span class="w"> </span>install<span class="w"> </span>hashicorp/tap/hashicorp-vagrant

<span class="c1"># install vagrant parallels plugin</span>
vagrant<span class="w"> </span>plugin<span class="w"> </span>install<span class="w"> </span>vagrant-parallels
</pre></div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
create a macOS vm</div>
<ol class="arabic simple">
<li><p class="sd-card-text">open parallels</p></li>
<li><p class="sd-card-text">download macOS</p></li>
</ol>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id12">
<div class="code-block-caption"><span class="caption-text">shell (Host Machine)</span><a class="headerlink" href="#id12" title="Link to this code">#</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>VM=macos-14.4.1

# copy vm to a new location
cd ~/Parallels
mkdir ~/vagrant
mkdir ~/vagrant/base-boxes/
mkdir ~/vagrant/base-boxes/$VM
cp -r macOS.macvm ~/vagrant/base-boxes/$VM/macOS.macvm
cd ~/vagrant/base-boxes/$VM/
</pre></div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
register and auto rename the copied vm</div>
<ol class="arabic simple">
<li><p class="sd-card-text">open and/or run ~/vagrant/base-boxes/$VM/macOS.macvm</p></li>
<li><p class="sd-card-text">parallels will automatically rename it and give it a new mac address.</p></li>
</ol>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id13">
<div class="code-block-caption"><span class="caption-text">shell (Host Machine)</span><a class="headerlink" href="#id13" title="Link to this code">#</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># give the auto renamed vm a better name
prlctl set &#39;macOS (1)&#39; —name $VM

# download metadata and vagrant file
cd ~/vagrant/base-boxes/$VM
curl -o metadata.json https://kb.parallels.com/Attachments/kcs-191881/metadata.json
curl -o Vagrantfile https://kb.parallels.com/Attachments/kcs-191881/Vagrantfile
</pre></div>
</div>
</div>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-card-title sd-font-weight-bold docutils">
edit the vagrant file and meta data</div>
<ol class="arabic simple">
<li><p class="sd-card-text">edit meta data “name” field</p></li>
<li><p class="sd-card-text">remove private key logic in <cite>Vagrantfile</cite> if using the insecure public key (recommended — otherwise follow the steps outlined in <a class="reference external" href="https://kb.parallels.com/en/129720">https://kb.parallels.com/en/129720</a> to create and use private key)</p></li>
</ol>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id14">
<div class="code-block-caption"><span class="caption-text">shell (Host Machine)</span><a class="headerlink" href="#id14" title="Link to this code">#</a></div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># create vagrant box
tar cvzf $VM.box ./$VM.macvm  ./Vagrantfile ./metadata.json
vagrant box add $VM.box --name $VM

# test vagrant file
cd ~/vagrant
mkdir ~/vagrant/test-$VM
cd ~/vagrant/test-$VM
vagrant init $VM
vagrant up —provider=parallels
</pre></div>
</div>
</div>
</div>
</div>
</section>
<section id="procedure">
<h2>Procedure<a class="headerlink" href="#procedure" title="Link to this heading">#</a></h2>
<section id="initialize-vm-virtual-hardware">
<h3>Initialize-VM Virtual Hardware<a class="headerlink" href="#initialize-vm-virtual-hardware" title="Link to this heading">#</a></h3>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-2" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="macos" for="sd-tab-item-2">
GuestOS: MacOS</label><div class="sd-tab-content docutils">
<ul class="simple">
<li><p>1 Processor</p></li>
<li><p>2048MB+ of RAM</p></li>
</ul>
</div>
<input id="sd-tab-item-3" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="windows" for="sd-tab-item-3">
GuestOS: Windows</label><div class="sd-tab-content docutils">
<ul class="simple">
<li><p>1+ Processors</p></li>
<li><p><a class="reference external" href="https://support.microsoft.com/en-us/windows/windows-11-system-requirements-86c11283-ea52-4782-9efd-7674389a7ba3">4096MB+ of RAM</a></p></li>
</ul>
</div>
<input id="sd-tab-item-4" name="sd-tab-set-1" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="sd-tab-item-4">
GuestOS: Ubuntu</label><div class="sd-tab-content docutils">
<ul class="simple">
<li><p>1+ Processors</p></li>
<li><p><a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/boxes/base#memory">512MB+ of RAM</a></p></li>
</ul>
</div>
</div>
<ul class="simple">
<li><p><a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/boxes/base#disk-space">Dynamically Allocated 250GB HD</a></p></li>
<li><p><a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/boxes/base#peripherals-audio-usb-etc">Disable Audio and USB</a></p></li>
</ul>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-5" name="sd-tab-set-2" type="radio">
</input><label class="sd-tab-label" data-sync-id="macos" for="sd-tab-item-5">
GuestOS: MacOS</label><div class="sd-tab-content docutils">
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-6" name="sd-tab-set-3" type="radio">
</input><label class="sd-tab-label" data-sync-id="virtualbox" for="sd-tab-item-6">
Provider: VirtualBox</label><div class="sd-tab-content docutils">
<div class="literal-block-wrapper docutils container" id="id15">
<div class="code-block-caption"><span class="caption-text">PowerShell (Host Machine)</span><a class="headerlink" href="#id15" title="Link to this code">#</a></div>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nv">$VMName</span> <span class="p">=</span> <span class="s1">&#39;virtualbox-vagrant-macos-12&#39;</span>
<span class="nv">$VBoxManage</span> <span class="p">=</span> <span class="nb">Join-Path</span> <span class="p">(</span><span class="no">[Environment]</span><span class="p">::</span><span class="n">GetFolderPath</span><span class="p">(</span><span class="s1">&#39;ProgramFiles&#39;</span><span class="p">))</span> <span class="n">Oracle</span> <span class="n">VirtualBox</span> <span class="n">VBoxManage</span><span class="p">.</span><span class="n">exe</span>
<span class="p">&amp;</span> <span class="nv">$VBoxManage</span> <span class="n">modifyvm</span> <span class="nv">$VMName</span> <span class="p">-</span><span class="n">-cpuidset</span> <span class="n">00000001</span> <span class="n">000106e5</span> <span class="n">00100800</span> <span class="n">0098e3fd</span> <span class="n">bfebfbff</span>
<span class="p">&amp;</span> <span class="nv">$VBoxManage</span> <span class="n">setextradata</span> <span class="nv">$VMName</span> <span class="s2">&quot;VBoxInternal/Devices/efi/0/Config/DmiSystemProduct&quot;</span> <span class="s2">&quot;iMac19,3&quot;</span>
<span class="p">&amp;</span> <span class="nv">$VBoxManage</span> <span class="n">setextradata</span> <span class="nv">$VMName</span> <span class="s2">&quot;VBoxInternal/Devices/efi/0/Config/DmiSystemVersion&quot;</span> <span class="s2">&quot;1.0&quot;</span>
<span class="p">&amp;</span> <span class="nv">$VBoxManage</span> <span class="n">setextradata</span> <span class="nv">$VMName</span> <span class="s2">&quot;VBoxInternal/Devices/efi/0/Config/DmiBoardProduct&quot;</span> <span class="s2">&quot;Iloveapple&quot;</span>
<span class="p">&amp;</span> <span class="nv">$VBoxManage</span> <span class="n">setextradata</span> <span class="nv">$VMName</span> <span class="s2">&quot;VBoxInternal/Devices/smc/0/Config/DeviceKey&quot;</span> <span class="s2">&quot;ourhardworkbythesewordsguardedpleasedontsteal(c)AppleComputerInc&quot;</span>
<span class="p">&amp;</span> <span class="nv">$VBoxManage</span> <span class="n">setextradata</span> <span class="nv">$VMName</span> <span class="s2">&quot;VBoxInternal/Devices/smc/0/Config/GetKeyFromRealSMC&quot;</span> <span class="n">1</span>
<span class="p">&amp;</span> <span class="nv">$VBoxManage</span> <span class="n">modifyvm</span> <span class="nv">$VMName</span> <span class="p">-</span><span class="n">-cpu-profile</span> <span class="s2">&quot;Intel Core i7-2635QM&quot;</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="install-guest-operating-system">
<h3>Install-Guest Operating System<a class="headerlink" href="#install-guest-operating-system" title="Link to this heading">#</a></h3>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-7" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" data-sync-id="macos" for="sd-tab-item-7">
GuestOS: MacOS</label><div class="sd-tab-content docutils">
<p>Create a local user account with the username <code class="docutils literal notranslate"><span class="pre">vagrant</span></code> and password <code class="docutils literal notranslate"><span class="pre">vagrant</span></code></p>
</div>
<input id="sd-tab-item-8" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" data-sync-id="windows" for="sd-tab-item-8">
GuestOS: Windows</label><div class="sd-tab-content docutils">
<ol class="arabic simple">
<li><p>During installation, at “select a country” press <code class="docutils literal notranslate"><span class="pre">Shift+F10</span></code> to open command prompt, then enter  <code class="docutils literal notranslate"><span class="pre">OOBE\BYPASSNRO</span></code></p></li>
<li><p>After restart, press <code class="docutils literal notranslate"><span class="pre">Shift+F10</span></code> to open command prompt, then enter <code class="docutils literal notranslate"><span class="pre">ipconfig</span> <span class="pre">/release</span></code></p></li>
<li><p>Continue installation without internet connection</p></li>
<li><p>Create a local user account with the username <code class="docutils literal notranslate"><span class="pre">vagrant</span></code> and password <code class="docutils literal notranslate"><span class="pre">vagrant</span></code> (<a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/boxes/base#vagrant-user">ref</a>)</p></li>
</ol>
</div>
<input id="sd-tab-item-9" name="sd-tab-set-4" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="sd-tab-item-9">
GuestOS: Ubuntu</label><div class="sd-tab-content docutils">
<p>Create a local user account with the username <code class="docutils literal notranslate"><span class="pre">vagrant</span></code> and password <code class="docutils literal notranslate"><span class="pre">vagrant</span></code></p>
</div>
</div>
</section>
<section id="install-ssh-server-on-guest-vm">
<h3>Install-SSH Server on Guest VM<a class="headerlink" href="#install-ssh-server-on-guest-vm" title="Link to this heading">#</a></h3>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-10" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" data-sync-id="macos" for="sd-tab-item-10">
GuestOS: MacOS</label><div class="sd-tab-content docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Edit-System Setup<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Initialize-Authorizied Keys Directory<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id16">
<div class="code-block-caption"><span class="caption-text">shell (Guest Machine)</span><a class="headerlink" href="#id16" title="Link to this code">#</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo<span class="w"> </span>chmod<span class="w"> </span>go-w<span class="w"> </span>~/
sudo<span class="w"> </span>mkdir<span class="w"> </span>~/.ssh
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">700</span><span class="w"> </span>~/.ssh
sudo<span class="w"> </span>touch<span class="w"> </span>~/.ssh/authorized_keys
sudo<span class="w"> </span>chmod<span class="w"> </span><span class="m">600</span><span class="w"> </span>~/.ssh/authorized_keys
</pre></div>
</div>
</div>
</div>
</details></div>
<input id="sd-tab-item-11" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" data-sync-id="windows" for="sd-tab-item-11">
GuestOS: Windows</label><div class="sd-tab-content docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Install SSH Server<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">uncomment the following line in <code class="docutils literal notranslate"><span class="pre">%ProgramData%/sshd_config</span></code>:</p>
<div class="literal-block-wrapper docutils container" id="id17">
<div class="code-block-caption"><span class="caption-text">%ProgramData%/sshd_config (Guest Machine)</span><a class="headerlink" href="#id17" title="Link to this code">#</a></div>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">- #PublickeyAuthentication yes</span>
<span class="gi">+ PublickeyAuthentication yes</span>
</pre></div>
</div>
</div>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Install WinRM<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id18">
<div class="code-block-caption"><span class="caption-text">PowerShell (Guest Machine)</span><a class="headerlink" href="#id18" title="Link to this code">#</a></div>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="nb">Set-NetConnectionProfile</span> <span class="n">-NetworkCategory</span> <span class="n">Private</span>
<span class="nb">Set-ItemProperty</span> <span class="n">-Path</span> <span class="s2">&quot;HKLM:\SOFTWARE\Microsoft\Windows\CurrentVersion\Policies\System&quot;</span> <span class="n">-Name</span> <span class="s2">&quot;LocalAccountTokenFilterPolicy&quot;</span> <span class="n">-Value</span> <span class="n">1</span>
<span class="nb">Set-ItemProperty</span> <span class="n">-Path</span> <span class="s2">&quot;HKLM:\Software\Microsoft\Windows\CurrentVersion\Policies\System&quot;</span> <span class="n">-Name</span> <span class="s2">&quot;DisablePwdCaching&quot;</span> <span class="n">-Value</span> <span class="n">0</span> <span class="n">-Type</span> <span class="n">DWORD</span> <span class="n">-Force</span>
<span class="nb">Set-ItemProperty</span> <span class="n">-Path</span> <span class="s2">&quot;HKLM:\System\CurrentControlSet\Control\Lsa&quot;</span> <span class="n">-Name</span> <span class="s2">&quot;disabledomaincreds&quot;</span> <span class="n">-Value</span> <span class="n">0</span>

<span class="n">winrm</span> <span class="n">quickconfig</span> <span class="n">-q</span>
<span class="n">winrm</span> <span class="nb">set </span><span class="s1">&#39;winrm/config/winrs&#39;</span> <span class="s1">&#39;@{MaxMemoryPerShellMB=&quot;512&quot;}&#39;</span>
<span class="n">winrm</span> <span class="nb">set </span><span class="s1">&#39;winrm/config&#39;</span> <span class="s1">&#39;@{MaxTimeoutms=&quot;1800000&quot;}&#39;</span>
<span class="n">winrm</span> <span class="nb">set </span><span class="s1">&#39;winrm/config/service&#39;</span> <span class="s1">&#39;@{AllowUnencrypted=&quot;true&quot;}&#39;</span>
<span class="n">winrm</span> <span class="nb">set </span><span class="s1">&#39;winrm/config/service/auth&#39;</span> <span class="s1">&#39;@{Basic=&quot;true&quot;}&#39;</span>
<span class="nb">Enable-PSRemoting</span> <span class="n">-Force</span>
<span class="n">sc</span><span class="p">.</span><span class="n">exe</span> <span class="n">config</span> <span class="s2">&quot;WinRM&quot;</span> <span class="n">start</span><span class="p">=</span> <span class="n">auto</span>
</pre></div>
</div>
</div>
</div>
</details></div>
<input id="sd-tab-item-12" name="sd-tab-set-5" type="radio">
</input><label class="sd-tab-label" data-sync-id="ubuntu" for="sd-tab-item-12">
GuestOS: Ubuntu</label><div class="sd-tab-content docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Install SSH Server<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
</div>
</details></div>
</div>
</section>
<section id="test-host-to-guest-ssh-connection">
<h3>Test-Host to Guest SSH Connection<a class="headerlink" href="#test-host-to-guest-ssh-connection" title="Link to this heading">#</a></h3>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-13" name="sd-tab-set-6" type="radio">
</input><label class="sd-tab-label" data-sync-id="virtualbox" for="sd-tab-item-13">
Provider: VirtualBox</label><div class="sd-tab-content docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Register-SSH Port Forwarding Rule<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<ol class="arabic">
<li><p class="sd-card-text">GoTo <strong>VirtualBox</strong> | <strong>Your Virtual Machine</strong> | <strong>Settings</strong> | <strong>Network</strong> | <strong>Advanced</strong> | <strong>Port Forwarding</strong></p></li>
<li><p class="sd-card-text">Add-Rule</p>
<table class="table">
<tbody>
<tr class="row-odd"><td><p class="sd-card-text"><strong>Name</strong></p></td>
<td><p class="sd-card-text">SSH</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text"><strong>Protocol</strong></p></td>
<td><p class="sd-card-text">TCP</p></td>
</tr>
<tr class="row-odd"><td><p class="sd-card-text"><strong>Host Port</strong></p></td>
<td><p class="sd-card-text">2222</p></td>
</tr>
<tr class="row-even"><td><p class="sd-card-text"><strong>Guest Port</strong></p></td>
<td><p class="sd-card-text">22</p></td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p class="sd-card-text">The Host Port can be any port you wish to use on your host machine. The Guest Port must be 22, as that is the port the SSH server on the guest machine is listening on.</p></li>
<li><p class="sd-card-text">The Name field is arbitrary, but it is recommended to use a name that describes the purpose of the rule.</p></li>
</ul>
</div>
</li>
</ol>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Test-SSH Connection<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Make sure the VM is running, then invoke the following command on the Host machine:</p>
<div class="literal-block-wrapper docutils container" id="id19">
<div class="code-block-caption"><span class="caption-text">shell / cmd (Host Machine)</span><a class="headerlink" href="#id19" title="Link to this code">#</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>vagrant@localhost<span class="w"> </span>-p<span class="w"> </span><span class="m">2222</span>
</pre></div>
</div>
</div>
</div>
</details></div>
<input id="sd-tab-item-14" name="sd-tab-set-6" type="radio">
</input><label class="sd-tab-label" data-sync-id="vmware" for="sd-tab-item-14">
Provider: VMWare</label><div class="sd-tab-content docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Find-Guest IP<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<ol class="arabic simple">
<li><p class="sd-card-text">On Guest Machine, Goto <strong>VMWare</strong> | <strong>Your Virtual Machine</strong> | <strong>Settings</strong> | <strong>Network Adapter</strong> | <strong>Advanced</strong> | <strong>MAC Address</strong></p></li>
<li><p class="sd-card-text">On Host Machine, invoke <code class="docutils literal notranslate"><span class="pre">arp</span> <span class="pre">-a</span></code> and look for the MAC Address of the Guest Machine. The IP Address associated with the MAC Address is the IP Address of the Guest Machine.</p></li>
</ol>
</div>
</details><details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3" open="open">
<summary class="sd-summary-title sd-card-header">
Test-SSH Connection<div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<p class="sd-card-text">Make sure the VM is running, then invoke the following command on the Host Machine:</p>
<div class="literal-block-wrapper docutils container" id="id20">
<div class="code-block-caption"><span class="caption-text">shell / cmd (Host Machine)</span><a class="headerlink" href="#id20" title="Link to this code">#</a></div>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ssh<span class="w"> </span>vagrant@&lt;Guest<span class="w"> </span>Machine<span class="w"> </span>IP<span class="w"> </span>Address&gt;
</pre></div>
</div>
</div>
</div>
</details></div>
</div>
</section>
<section id="edit-security-policies">
<h3>Edit-Security Policies<a class="headerlink" href="#edit-security-policies" title="Link to this heading">#</a></h3>
<div class="sd-tab-set docutils">
<input checked="checked" id="sd-tab-item-15" name="sd-tab-set-7" type="radio">
</input><label class="sd-tab-label" for="sd-tab-item-15">
GuestOS: Windows</label><div class="sd-tab-content docutils">
<details class="sd-sphinx-override sd-dropdown sd-card sd-mb-3">
<summary class="sd-summary-title sd-card-header">
Edit-Windows Security Policies <a class="footnote-reference brackets" href="#id9" id="id5" role="doc-noteref"><span class="fn-bracket">[</span>4<span class="fn-bracket">]</span></a><div class="sd-summary-down docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-down" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M5.22 8.72a.75.75 0 000 1.06l6.25 6.25a.75.75 0 001.06 0l6.25-6.25a.75.75 0 00-1.06-1.06L12 14.44 6.28 8.72a.75.75 0 00-1.06 0z"></path></svg></div>
<div class="sd-summary-up docutils">
<svg version="1.1" width="1.5em" height="1.5em" class="sd-octicon sd-octicon-chevron-up" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M18.78 15.28a.75.75 0 000-1.06l-6.25-6.25a.75.75 0 00-1.06 0l-6.25 6.25a.75.75 0 101.06 1.06L12 9.56l5.72 5.72a.75.75 0 001.06 0z"></path></svg></div>
</summary><div class="sd-summary-content sd-card-body docutils">
<div class="literal-block-wrapper docutils container" id="id21">
<div class="code-block-caption"><span class="caption-text">PowerShell (Guest Machine)</span><a class="headerlink" href="#id21" title="Link to this code">#</a></div>
<div class="highlight-powershell notranslate"><div class="highlight"><pre><span></span><span class="c"># Disable UAC (User Account Control)</span>
<span class="nb">Set-ItemProperty</span> <span class="n">-Path</span> <span class="s1">&#39;HKLM:\Software\Microsoft\Windows\CurrentVersion\Policies\System&#39;</span> <span class="n">-Name</span> <span class="s1">&#39;EnableLUA&#39;</span> <span class="n">-Value</span> <span class="n">0</span> <span class="n">-Type</span> <span class="n">DWORD</span> <span class="n">-ErrorAction</span> <span class="n">SilentlyContinue</span>

<span class="c"># Disable Shutdown Tracker</span>
<span class="nb">Set-ItemProperty</span> <span class="n">-Path</span> <span class="s1">&#39;HKLM:\Software\Policies\Microsoft\Windows NT\Reliability&#39;</span> <span class="n">-Name</span> <span class="s1">&#39;ShutdownReasonOn&#39;</span> <span class="n">-Value</span> <span class="n">0</span> <span class="n">-ErrorAction</span> <span class="n">SilentlyContinue</span>

<span class="c"># Disable Server Manager at Logon</span>
<span class="nb">Set-ItemProperty</span> <span class="n">-Path</span> <span class="s1">&#39;HKLM:\Software\Policies\Microsoft\Windows\Server\ServerManager&#39;</span> <span class="n">-Name</span> <span class="s1">&#39;DoNotOpenAtLogon&#39;</span> <span class="n">-Value</span> <span class="n">1</span> <span class="n">-ErrorAction</span> <span class="n">SilentlyContinue</span>

<span class="c"># Disable Complex Passwords</span>
<span class="nv">$ConfigFile</span> <span class="p">=</span> <span class="nb">New-TemporaryFile</span>
<span class="nv">$SecurityDatabseFile</span> <span class="p">=</span> <span class="nb">Join-Path</span>  <span class="nv">$env:SystemDrive</span> <span class="s1">&#39;windows&#39;</span> <span class="s1">&#39;security&#39;</span> <span class="s1">&#39;local.sdb&#39;</span>
<span class="n">secedit</span> <span class="p">/</span><span class="n">export</span> <span class="p">/</span><span class="n">cfg</span> <span class="s2">&quot;$ConfigFile&quot;</span>
<span class="p">(</span><span class="nb">Get-Content</span> <span class="nv">$ConfigFile</span><span class="p">).</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;PasswordComplexity = 1&quot;</span><span class="p">,</span> <span class="s2">&quot;PasswordComplexity = 0&quot;</span><span class="p">)</span> <span class="p">|</span> <span class="nb">Out-File</span> <span class="s2">&quot;$ConfigFile&quot;</span>
<span class="n">secedit</span> <span class="p">/</span><span class="n">configure</span> <span class="p">/</span><span class="n">db</span> <span class="nv">$SecurityDatabseFile</span> <span class="p">/</span><span class="n">cfg</span> <span class="nv">$ConfigFile</span> <span class="p">/</span><span class="n">areas</span> <span class="n">SECURITYPOLICY</span>
<span class="nb">Remove-Item</span> <span class="n">-Path</span> <span class="nv">$ConfigFile</span> <span class="n">-Force</span> <span class="n">-Confirm</span><span class="p">:</span><span class="nv">$false</span>
</pre></div>
</div>
</div>
</div>
</details></div>
</div>
</section>
<section id="install-additional-software">
<h3>Install Additional Software<a class="headerlink" href="#install-additional-software" title="Link to this heading">#</a></h3>
<p>Install any additional software you wish to have on your base box. For example, PowerShell Core, Python, etc.</p>
</section>
</section>
<section id="next-steps">
<h2>Next steps<a class="headerlink" href="#next-steps" title="Link to this heading">#</a></h2>
<p><span class="xref std std-doc">/Vagrant.Export-Base Box</span></p>
</section>
<section id="see-also">
<h2>See Also<a class="headerlink" href="#see-also" title="Link to this heading">#</a></h2>
<div class="sd-card sd-sphinx-override sd-mb-3 sd-shadow-sm docutils">
<div class="sd-card-body docutils">
<p class="sd-card-text"><strong>External Links</strong></p>
<ul class="simple">
<li><p class="sd-card-text"><a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/boxes/base#base-windows-configuration">Vagrant Windows Base Box Configuration</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://serverfault.com/a/848519">Stack Overflow Edit Group Policy</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://www.microsoft.com/en-us/download/confirmation.aspx?id=25250">Download List of Registry Keys</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://discuss.hashicorp.com/t/winrm-port-does-not-work-in-vagrantfile/54601">Example: Using WSL Host with Windows Guest VM</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://github.com/AlbanAndrieu/ansible-windows/blob/master/files/ConfigureRemotingForAnsible.ps1">Setup WinRM on Windows</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://woshub.com/using-psremoting-winrm-non-domain-workgroup/">https://woshub.com/using-psremoting-winrm-non-domain-workgroup/</a></p></li>
<li><p class="sd-card-text"><a class="reference external" href="https://kevrocks67.github.io/blog/powershell-remote-management-from-linux.html">https://kevrocks67.github.io/blog/powershell-remote-management-from-linux.html</a></p></li>
</ul>
<p class="sd-card-text"><strong>Footnotes</strong></p>
<aside class="footnote-list brackets">
<aside class="footnote brackets" id="id6" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id1">1</a><span class="fn-bracket">]</span></span>
<p class="sd-card-text"><a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/providers/vmware/vagrant-vmware-utility">https://developer.hashicorp.com/vagrant/docs/providers/vmware/vagrant-vmware-utility</a></p>
</aside>
<aside class="footnote brackets" id="id7" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id2">2</a><span class="fn-bracket">]</span></span>
<p class="sd-card-text"><a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/providers/vmware/installation">https://developer.hashicorp.com/vagrant/docs/providers/vmware/installation</a></p>
</aside>
<aside class="footnote brackets" id="id8" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span>3<span class="fn-bracket">]</span></span>
<p class="sd-card-text"><a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/installation#windows-virtualbox-and-hyper-v">https://developer.hashicorp.com/vagrant/docs/installation#windows-virtualbox-and-hyper-v</a></p>
</aside>
<aside class="footnote brackets" id="id9" role="doc-footnote">
<span class="label"><span class="fn-bracket">[</span><a role="doc-backlink" href="#id5">4</a><span class="fn-bracket">]</span></span>
<p class="sd-card-text"><a class="reference external" href="https://developer.hashicorp.com/vagrant/docs/boxes/base#base-windows-configuration">https://developer.hashicorp.com/vagrant/docs/boxes/base#base-windows-configuration</a></p>
</aside>
</aside>
</div>
</div>
</section>
</section>


                </article>
              

              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#brief">Brief</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#prerequisites">Prerequisites</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#procedure">Procedure</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#initialize-vm-virtual-hardware">Initialize-VM Virtual Hardware</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-guest-operating-system">Install-Guest Operating System</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-ssh-server-on-guest-vm">Install-SSH Server on Guest VM</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#test-host-to-guest-ssh-connection">Test-Host to Guest SSH Connection</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#edit-security-policies">Edit-Security Policies</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#install-additional-software">Install Additional Software</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#next-steps">Next steps</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#see-also">See Also</a></li>
</ul>
  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Liam Murray
</p>

  </div>
  
  <div class="footer-item">
    

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>